!function(o){"use strict";var e=mauwooi18n.ajaxUrl,a=mauwooi18n.mauwooWentWrong,t=(mauwooi18n.mauwooSuccess,mauwooi18n.mauwooCreatingProperty),u=(mauwooi18n.mauwooSetupCompleted,mauwooi18n.mauwooSecurity),c=mauwooi18n.mauwooConnectTab,r=mauwooi18n.mauwooCustomFields;mauwooi18n.mauwooOverviewTab,mauwooi18n.mauwooNoFieldsFound;jQuery(document).ready(function(){function n(o,e=!1){var a='<div class="mauwoo-noti-wrap"><div class="mauwoo-noti-inner">';a+=o,a+='<a href="#" class="mauwoo-noti-close">X</a>',a+="</div></div>",jQuery(".mauwoo-content-container").append(a),jQuery(".mauwoo-noti-wrap").addClass("show"),e&&jQuery(".mauwoo-noti-wrap").addClass("mauwoo-noti-wrap-error"),setTimeout(function(){jQuery(".mauwoo-noti-wrap").removeClass("show")},2e3)}jQuery(document).on("click","#mauwoo-know-about-app-settings-button",function(o){o.preventDefault(),jQuery(".mauwoo-app-setup-wrapper").toggleClass("show")}),jQuery(document).on("click",".mauwoo-app-setup-header-close",function(){jQuery(".mauwoo-app-setup-wrapper").toggleClass("show")}),jQuery(document).on("click",".mauwoo-app-setup-wrapper",function(){jQuery(this).toggleClass("show")}),jQuery(document).on("click",".mauwoo-app-setup-content",function(o){o.stopPropagation()}),jQuery(".mauwoo-show-pass").on("click",function(e){"password"==o(this).closest("div").find("input.regular-text").attr("type")?o(this).closest("div").find("input.regular-text").attr("type","text"):o(this).closest("div").find("input.regular-text").attr("type","password")}),jQuery(".mauwoo-reauthorize-app").on("click",function(o){jQuery("#mauwoo_loader").show(),jQuery.post(e,{action:"mautic_woo_allow_reauth",mauwooSecurity:u},function(o){location.reload()})}),jQuery("a.mauwoo-tab-disabled").on("click",function(o){return o.preventDefault(),!1}),jQuery("a#mauwoo-all-fields").on("click",function(o){jQuery("input.mauwoo_select_property").attr("checked",!0)}),jQuery("a#mauwoo-clear-fields").on("click",function(o){jQuery("input.mauwoo_select_property").attr("checked",!1)}),jQuery("a#mauwoo-rollback").on("click",function(o){jQuery("#mauwoo_loader").show(),jQuery.post(e,{action:"mautic_woo_rollback",mauwooSecurity:u},function(o){location.reload()})}),jQuery("a.mauwoo-refresh-token").on("click",function(o){jQuery(".fa-circle-notch").removeClass("mauwoo-hide"),jQuery.post(e,{action:"mautic_woo_check_oauth_access_token",mauwooSecurity:u},function(o){var e=jQuery.parseJSON(o),a=e.status,t=e.message;a?(jQuery(".fa-circle-notch").addClass("mauwoo-hide"),jQuery(".mauwoo-acces-token-renewal").html("<p> "+t+' <i class="fas fa-check-circle mauwoo-check"></i> </p>')):(jQuery(".fa-circle-notch").addClass("mauwoo-hide"),jQuery(".mauwoo-acces-token-renewal").html(t)),location.reload()})}),jQuery("a.mauwoo_pro_select_fields").on("click",function(o){o.preventDefault(),jQuery("#mauwoo_loader").show(),jQuery.post(e,{action:"mautic_woo_save_user_choice",mauwooSecurity:u,async:!1,choice:"yes"},function(o){location.reload()})}),jQuery("a.mauwoo_pro_go_with_integration").on("click",function(o){o.preventDefault(),jQuery("#mauwoo_loader").show(),jQuery.post(e,{action:"mautic_woo_save_user_choice",mauwooSecurity:u,async:!1,choice:"no"},function(o){location.reload()})}),jQuery("a.mauwoo-run-change-decision").on("click",function(o){o.preventDefault(),jQuery("#mauwoo_loader").show(),jQuery.post(e,{action:"mautic_woo_clear_user_choice",mauwooSecurity:u,async:!1},function(o){location.reload()})}),jQuery("a.mauwoo_pro_move_to_custom_fields").on("click",function(o){o.preventDefault(),jQuery.post(e,{action:"mautic_woo_move_to_custom_fields",mauwooSecurity:u,async:!1},function(o){window.location.href=r})}),jQuery("a#mauwoo-get-started").on("click",function(o){o.preventDefault(),jQuery(".fa-circle-notch").removeClass("mauwoo-hide"),jQuery.post(e,{action:"mautic_woo_get_started_call",mauwooSecurity:u,async:!1},function(o){window.location.href=c})}),jQuery("a.mauwoo-create-single-field").on("click",function(c){var r=o(this).data("alias");o(this).addClass("mauwoo-hide");var i=o(this).closest("td");i.find(".fa-circle-notch").removeClass("mauwoo-hide"),jQuery.post(e,{action:"mautic_woo_check_oauth_access_token",mauwooSecurity:u},function(o){var c=jQuery.parseJSON(o),s=c.status;c.message;if(!s)return n(a,!0),!1;jQuery.post(e,{action:"mautic_woo_create_single_field2",mauwooSecurity:u,alias:r},function(o){var e=jQuery.parseJSON(o),u="";if(!e.errors){var c=e.code;if(201==c)i.html('<i class="fas fa-check-circle mauwoo-check"></i>'),n("<strong>"+e.label+" : </strong> "+t);else if(400==c){u=e.message;i.html('<i class="fas fa-times-circle mauwoo-cross mauwoo-cross-red"></i>'),n("<strong>"+e.label+" : </strong> "+u,!0)}else i.html('<i class="fas fa-times-circle mauwoo-cross mauwoo-cross-red"></i>'),n("<strong>"+e.label+" : </strong> "+a,!0)}})})}),jQuery("#mauwoo-order-statuses").select2({ajax:{url:ajaxurl,dataType:"json",delay:200,data:function(o){return{q:o.term,action:"mautic_woo_search_for_order_status"}},processResults:function(e){var a=[];return e&&o.each(e,function(o,e){a.push({id:e[0],text:e[1]})}),{results:a}},cache:!0}}),jQuery("#mautic_go_pro_link").on("click",function(o){o.preventDefault(),jQuery(".mauwoo_pop_up_wrap").show()}),jQuery("#mautic_woo_close_popup").click(function(){o(".mauwoo_pop_up_wrap").hide()}),jQuery("a.mauwoo_support_development").on("click",function(o){o.preventDefault(),jQuery.post(e,{action:"mautic_woo_support_development",mauwooSecurity:u,async:!1},function(o){window.location.href=r})}),jQuery("#mautic-woo-disabled-custom-fields").select2({ajax:{url:ajaxurl,dataType:"json",delay:200,data:function(o){return{q:o.term,action:"mautic_woo_search_for_custom_fields"}},processResults:function(e){var a=[];return e&&o.each(e,function(o,e){a.push({id:e[0],text:e[1]})}),{results:a}},cache:!0}})}),jQuery(document).on("click","#mauwoo2-create-selected-fields",function(o){o.preventDefault();var a=[];jQuery(".mauwoo-progress-wrap").show(),jQuery.each(jQuery("input[name='selected_properties[]']:checked"),function(){var o=jQuery(this).val();""==o&&void 0===o||a.push(o)});var t=1;jQuery("html,body").animate({scrollTop:jQuery(".mauwoo-content-template").offset().top},"slow",function(){1==t&&jQuery.post(e,{action:"mautic_woo_check_oauth_access_token",mauwooSecurity:u},function(o){var t=jQuery.parseJSON(o),c=t.status;t.message;c&&jQuery.each(a,function(o,t){""==t&&void 0===t||jQuery.ajax({url:e,type:"POST",async:!1,data:{action:"mautic_woo_create_single_field2",alias:t,mauwooSecurity:u,totalFields:a.length,current:o},dataType:"json",success:function(t){var c=Math.ceil((o+1)/a.length*100);jQuery(".mauwoo-progress-bar").css("width",c+"%"),jQuery(".mauwoo-progress-bar").html(c+"%"),jQuery(".mauwoo-progress-notice").html("<p><strong>"+t.label+"</strong> : "+t.message+"</p>"),a.length==o+1&&jQuery.ajax({url:e,type:"POST",data:{action:"mautic_woo_setup_completed",mauwooSecurity:u},dataType:"json",success:function(o){jQuery(".mauwoo-progress-notice").html("<p>Your Custom fields setup has been completed!</p>"),location.reload()}})}})})}),t++})})}(jQuery);